dockerコンテナのシェルから出たい場合は `ctrl + p` `ctrl + q` を押す。  
vscodeのターミナルでこれらのキーを入力すると、vscodeのキーバインディングが働き機能しないため、  
キーバインディングの設定を無効にする必要がある。  
`ctrl + shift + p` → `open keybinding...` → `keybindings.json`

```
...
  {
    "key": "ctrl+p",
    "command": "workbench.action.quickOpen",
    "when": "!terminalFocus"
  },
  {
    "key": "ctrl+p",
    "command": "-workbench.action.quickOpen"
  },
  {
    "key": "ctrl+q",
    "command": "workbench.action.quickOpenView",
    "when": "!terminalFocus"
  },
  {
    "key": "ctrl+q",
    "command": "-workbench.action.quickOpenView"
  }
}
```

どのキーでどのコマンドが実行されるかは、  
`ctrl + shift + p` → `open keybinding...` → 設定画面にキー情報を入力  
→ コマンドを右クリックすると「～IDをコピー」と出てくる

[実例で学ぶDockerfileの具体的な作成手順 | Enjoy IT Life](https://nishinatoshiharu.com/how-to-create-dockerfile-with-erd/)

AWSという遊び場ができたので、Dockerでいっぱい遊ぶ。  
そういえば、今日の朝に「インフラ系エンジニアは「hello world!」を出すまでが仕事」と考えていた。  
これは的を射ていると思う。  
そして、Dockerを触るというのは「色んなパターンの「hello world!」を出してみる」ことだと思う。  
たとえばHaskellのWebアプリケーションでブラウザに「hello world!」と表示してみたり。  

いきなりHaskellのWebアプリケーションをDockerで構築できるだろうか。  
おそらくできると思う。  
`haskell:8` というイメージから作られるコンテナでは、最初から `stack` コマンドが使える。  
よって、`stack new <app-name>` のようにしてアプリケーションのひな形を作れるということだ。  
こうして作ったひな形の `stack.yaml` もしくは `package.yaml` の依存パッケージに…  
いや、この方向性はちょっと難しいか。せっかくDockerを使っているのだから、  
グローバル領域にどんどんインストールしていこう。`stack install wai warp` みたいな感じで。  
これで正常にインストールを終えたら、  
あとは動かしたい `*.hs` ファイルを `stack ghc` に渡すだけ？そんな感じかな。  
Dockerfileを作るのが最終目標だけど、いきなりDockerfileを作ろうとすると失敗するので、  
まずは `haskell:8` のコンテナを作り、そこに入って `stack install wai warp` を実行する。  
正常に終えたらコンテナから一度出て `docker commit` をする。  
そんな感じで進めていく。  
うまくいくだろうか。時間はある。明日から3連休だ。  
しかし今日中に終わらせたい。僕ならできるはずだ。


