式のメタファーを利用して、気軽にポリゴンを組み合わせられるようになっている。その気軽さを使って様々な基本図形を作っている。たとえば、正方形と円柱の胴部を4分の1にしたものと球体を8分割したものを組み合わせて角丸の立方体を作ったり。そういった、少し難しいけど基本図形を組み合わせて作れる図形を作ってみたり、それを回転させたりするのが楽しい。

しかし不満がある。回転させるときにGLSLを使っているのだけど、GLSLに設定するattribute変数やuniform変数の名前はModelクラスにハードコードされているのに、GLSLのソースコードは使用者側が用意する。つまり、GLSLのソースコードを書く開発者は、Modelクラスの仕様を理解していなければならない。この設計はまずい。Modelクラスの`draw()`を呼び出したときにattribute変数やuniform変数に何を設定するかは、Modelクラスか開発者のどちらか一方に寄せる必要がある。

どちらに寄せようか。使用者側に寄せると、使用者の負担が大きくなる。GLSLのソースコードを用意しなければならないし、attribute変数やuniform変数への設定も自分で行わなければならない。対してModelクラスに寄せると、使用者の負担は大幅に減るが、その分使用者側の自由度が下がる。これは個人開発ではあまりやりたくない。簡易性と柔軟性の両方を持ち合わせるのが理想。そんなことは果たして可能なのか。

Modelクラスには`.rotate()`があるが、これは`.matrix`と`.r_matrix`を変更した新しいModelを返す。そしてこの2つの値は、最終的にuniform変数の`matrix`と`r_matrix`に格納される。ここで少し発想が浮かんだ。Modelクラスの初期化時に、uniform変数の名前を設定できるようにできればいいのではないか。たとえば以下のように。

```javascript
po.model(gl, {
  m_matrix: "matrix",
  r_matrix: "r_matrix",
})
```

`Polygon.flatten()` を実装した。しかし、計算量が2乗なのが気になるところ…。八分木を使えばもっと速くなるのかな。
